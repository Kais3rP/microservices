<!-- This is a static file -->
<!-- served from your routes in server.js -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A cool thing made with Glitch">

    <title>MicroServices offered by: Cesare Polonara</title>

    <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon">
    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">

    <!-- import the webpage's client-side javascript file -->
    <script src="/script.js" defer></script>
  </head>
  <body>
    <div class="microservice">
      <div id="shortenTitle" class="title">
      Shorten your URL:
        <div class="modal">You can use this Micro Service to minify an URL and hide its original URL</div>
      </div>
      <input id="input-shorten" class="input" value="" placeholder="URL to shorten: es. '(https://)www.glitch.com'"  />
      <button id="submit-shorten" class="submit">Shorten your URL</button>
      <div id="result-shorten" class="result"></div>
    </div>
    <div class="microservice">
      <div id="whoamiTitle" class="title">
      Get your IP and Browser Info
        <div class="modal">You can use this Micro Service to see your current IP and browser info</div>
      </div>
      
      <button id="submit-whoami" class="submit">WHO AM I</button>
      <div id="result-whoami" class="result"></div>
    </div>
    <div>
      
        A list of simple MicroServices offered by Cesare Polonara
      </div>
    
    <button id="post">
      POST
    </button>
    <div id="text" style="color: black">
      
    </div>
    <script>
    document.getElementById("post")
                .addEventListener("click", (ev)=>{fetch('/name',  {
                                                                    method: 'POST', // *GET, POST, PUT, DELETE, etc.
                                                                    mode: 'cors', // no-cors, *cors, same-origin
                                                                    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
                                                                    credentials: 'same-origin', // include, *same-origin, omit
                                                                    headers: {
                                                                      //'Content-Type': 'application/json'
                                                                      'Content-Type': 'application/x-www-form-urlencoded',
                                                                    },
                                                                    redirect: 'follow', // manual, *follow, error
                                                                    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
                                                                    body: "first=cesare&last=polonara" // body data type must match "Content-Type" header
                                                                  })
                .then(res => res.json())
                .then(data=> { console.log(data); document.getElementById("text").innerText = data.name})})
   
    </script>	
  </body>
</html>
